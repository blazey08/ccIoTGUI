{"ast":null,"code":"var _jsxFileName = \"/Users/yuhui/Desktop/SUTD/Term 7/Cloud Computing & IOT/project/ccIoTGUI/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport axios from \"axios\";\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [file, setFile] = useState();\n  const [tags, setTags] = useState({\n    tags: []\n  });\n\n  function handleChange(event) {\n    setFile(event.target.files[0]);\n  }\n\n  function checkChange(event) {\n    console.log(event.target.value);\n    tags.append(event.target.value);\n    const {\n      value,\n      checked\n    } = event.target;\n\n    if (checked) {\n      setTags({\n        tags: [...tags, value]\n      });\n    } else {\n      setTags({\n        tags: tags.filter(event => event !== value)\n      });\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault(); // Creation of form data\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('fileName', file.name);\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    console.log(\"Here are the tags \" + tags); // Posting to flask\n\n    axios.post('/upload', formData, config).then(response => {\n      console.log(response.data);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n      children: \"CCIoT GUI\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      method: \"POST\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"File Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Select the appropriate tags\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"tags\",\n        name: \"tags\",\n        value: \"male\",\n        onChange: checkChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"tags\",\n        name: \"tags\",\n        value: \"female\",\n        onChange: checkChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"tags\",\n        name: \"tags\",\n        value: \"beard\",\n        onChange: checkChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"tags\",\n        name: \"tags\",\n        value: \"happy\",\n        onChange: checkChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"U+n5YXzB437uqojiJl160PAURO4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/yuhui/Desktop/SUTD/Term 7/Cloud Computing & IOT/project/ccIoTGUI/frontend/src/App.js"],"names":["axios","React","useState","App","file","setFile","tags","setTags","handleChange","event","target","files","checkChange","console","log","value","append","checked","filter","handleSubmit","preventDefault","formData","FormData","name","config","headers","post","then","response","data"],"mappings":"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","sourcesContent":["import './App.css';\nimport axios from \"axios\";\nimport React, { useState } from 'react';\n\nfunction App() {\n\n  const[file, setFile] = useState();\n  const[tags, setTags] = useState({tags: []});\n\n  function handleChange(event){\n    setFile(event.target.files[0])\n  }\n\n  function checkChange(event){\n    console.log(event.target.value)\n    tags.append(event.target.value)\n\n    const {value, checked} = event.target;\n    \n\n    if (checked){\n      setTags({\n        tags: [...tags, value]\n      })\n    }else{\n      setTags({\n        tags: tags.filter((event) => event !== value),\n      })\n    }\n\n\n\n  }\n\n  function handleSubmit(event){\n    event.preventDefault();\n    \n    // Creation of form data\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('fileName', file.name);\n\n    const config = {\n      headers:{\n        'content-type': 'multipart/form-data',\n      },\n    };\n\n    console.log(\"Here are the tags \" + tags)\n\n    // Posting to flask\n    axios.post('/upload', formData, config).then((response) => {\n      console.log(response.data);\n    });\n  }\n\n  return (\n    <div className=\"App\">\n          <title>CCIoT GUI</title>\n          <form method=\"POST\" onSubmit={handleSubmit}>\n              {/* Image upload */}\n              <h1>File Upload</h1>\n              <input type=\"file\" onChange={handleChange}/>\n\n              {/* Tags */}\n              <h2>Select the appropriate tags</h2>\n                <input type=\"checkbox\" id=\"tags\" name=\"tags\" value=\"male\" onChange={checkChange}/>\n                <input type=\"checkbox\" id=\"tags\" name=\"tags\" value=\"female\" onChange={checkChange}/>\n                <input type=\"checkbox\" id=\"tags\" name=\"tags\" value=\"beard\" onChange={checkChange}/>\n                <input type=\"checkbox\" id=\"tags\" name=\"tags\" value=\"happy\" onChange={checkChange}/>\n              <button type='submit'>Upload</button>\n          </form>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}